<div class="container mx-auto flex justify-center">
  <form
    (submit)="register()"
    #registerForm="ngForm"
    class="sm:w-2/4 md:w-1/4 p-5 border rounded bg-white shadow drop-shadow mt-10"
  >
    <div class="text-center">
      <h3 class="font-semibold text-lg my-5">Register</h3>
    </div>
    <hr class="my-5" />
    <label for="email" class="block">Email</label>
    <input
      [(ngModel)]="form.email"
      (change)="consoleLog(form.email)"
      type="email"
      name="email"
      id="email"
      class="p-2 rounded border w-full"
      #email="ngModel"
      required
    />
    <!-- <span [hidden]="email.valid" class="text-pink-700 p-2"
      >Email must be valid!</span
    > -->
    <span
      *ngIf="email.invalid && (email.dirty || email.touched)"
      class="text-pink-700 p-2"
      >Email is invalid!</span
    >
    <label for="password" class="block mt-2">Password</label>
    <input
      [(ngModel)]="form.password"
      type="password"
      name="password"
      id="password"
      class="p-2 rounded border w-full"
      #password="ngModel"
      required=""
    />
    <span
      *ngIf="password.invalid && (password.dirty || password.touched)"
      class="text-pink-700 p-2"
      >Password is invalid!</span
    >
    <label for="confirm_password" class="block mt-2">Confirm Password</label>
    <input
      [(ngModel)]="form.confirm_password"
      type="password"
      name="confirm_password"
      id="confirm_password"
      class="p-2 rounded border w-full"
      #confirm_password="ngModel"
      required
    />
    <span
      *ngIf="
        confirm_password.invalid &&
        (confirm_password.dirty || confirm_password.touched)
      "
      class="text-pink-700 p-2"
      >Password confirmation is invalid!</span
    >
    <div class="text-center">
      <button
        [disabled]="registerForm.form.invalid"
        class="bg-emerald-500 rounded p-2 text-xs font-semibold text-white mt-3"
        type="submit"
      >
        <ng-container *ngIf="isLoading()">Loading...</ng-container>
        <ng-container *ngIf="!isLoading()">Register</ng-container>
      </button>
    </div>
  </form>
</div>
